<ng-container>
    <div class="header">
        <div matRipple class="header-click" (click)="onAdd()">
            <mat-icon class="header-icon">map</mat-icon>
            <div class="header-text">
                <h4 class="header-text-line">{{ layer?.name }}</h4>
                <p class="header-text-line secondary-text" *ngIf="!expanded">{{ layer?.description }}</p>
            </div>
        </div>

        <button class="header-button" *ngIf="showLayerToggle" mat-icon-button (click)="toggleExpand()">
            <mat-icon *ngIf="!expanded">expand_more</mat-icon>
            <mat-icon *ngIf="expanded">expand_less</mat-icon>
        </button>
    </div>
</ng-container>

<ng-container>
    <mat-progress-bar *ngIf="loading" mode="query"></mat-progress-bar>
</ng-container>

<geoengine-layer-collection-layer-details
    *ngIf="expanded"
    [description]="description"
    [layerMetadata]="layerMetadata"
></geoengine-layer-collection-layer-details>
