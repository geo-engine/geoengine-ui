<geoengine-dialog-header>{{ plot.name }}</geoengine-dialog-header>
<mat-dialog-content>
    @switch (plotData?.outputFormat) {
        @case ('ImagePng') {
            <img [src]="plotData?.data" [alt]="plot.name" />
            @if (plotLoading$ | async) {
                <mat-progress-bar mode="indeterminate"></mat-progress-bar>
            }
        }
        @case ('JsonPlain') {
            <pre>{{ plotData?.data | json }}</pre>
        }
        @case ('JsonVega') {
            @if (maxWidth$ | async; as maxWidth) {
                @if (maxHeight$ | async; as maxHeight) {
                    <geoengine-vega-viewer [chartData]="plotData?.data" [width]="maxWidth" [height]="maxHeight"></geoengine-vega-viewer>
                }
            }
        }
        @default {
            <pre>{{ plotData?.data }}</pre>
        }
    }
</mat-dialog-content>
