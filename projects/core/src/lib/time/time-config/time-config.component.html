<geoengine-sidenav-header>Time Config</geoengine-sidenav-header>

<mat-card>
    <mat-card-header>
        <mat-card-title>Display Time</mat-card-title>
        <mat-card-subtitle>Specify a time selection for the current data</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
        <form [formGroup]="form">
            <geoengine-time-interval-input
                [allowRanges]="config.TIME.ALLOW_RANGES"
                formControlName="timeInterval"
            ></geoengine-time-interval-input>

            <mat-card-actions align="end">
                <button mat-raised-button (click)="reset()" [disabled]="isNotResettable()">Reset</button>
                <button mat-raised-button color="primary" type="submit" [disabled]="!form.valid" (click)="applyTime()">Apply</button>
            </mat-card-actions>
        </form>
    </mat-card-content>
</mat-card>

<mat-card>
    <mat-card-header>
        <mat-card-title>Time Step</mat-card-title>
        <mat-card-subtitle>Specify a time step for the time component on top of the map</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
        <mat-form-field>
            <mat-select
                placeholder="Time step"
                [ngModel]="timeStepDuration$ | async"
                (ngModelChange)="updateTimeStepDuration($event)"
                [compareWith]="timeStepComparator"
            >
                @for (timeStepDuration of timeStepDurations; track timeStepDuration) {
                    <mat-option [value]="timeStepDuration">
                        {{ timeStepDuration.durationAmount }} {{ timeStepDuration.durationUnit }}
                    </mat-option>
                }
            </mat-select>
        </mat-form-field>
    </mat-card-content>
</mat-card>

<!-- <mat-expansion-panel expanded="true">
<mat-expansion-panel-header>
  <mat-panel-title>Time Slider</mat-panel-title>
</mat-expansion-panel-header>
<geoengine-time-slider [height]="150"></geoengine-time-slider>
</mat-expansion-panel> -->
